<?xml version="1.0" encoding="utf-8" ?>
<!-- No good place to put this. -->
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
                   namespace="DqlQuery"
                   assembly="DqlQuery">

  <class entity-name="Listing" table="dbo.Listing">
    <id name="Id" type="Int32" column="LID" access="field"/>
    <property name="ListingNum" column="ListingNum" type="string"/>
    <property name="ListPrice" column="ListPrice" type="Int32"/>

    <set name="Sides">
      <key column="LID" not-null="true"/>
      <one-to-many entity-name="ListingSide"/>
    </set>
  </class>

  <class entity-name="Agent" table="dbo.Agent">
    <id name="Id" type="Int32" column="AID"/>
    <property name="AgentId" column="AgentId" type="string"/>
    <property name="Name" column="Name" type="string"/>
    <property name="Age" column="Age" type="Int32"/>

    <set name="Sides">
      <key column="AID" not-null="true"/>
      <one-to-many entity-name="ListingSide" />
    </set>

  </class>

  <class entity-name="ListingSide" table="dbo.Listing_Agent">
    <id name="Id" type="Int32" column="Id"/>
    <property name="Side" column="Side" type="string"/>

    <many-to-one name="Agent" column="AID" entity-name="Agent" />
    <many-to-one name="Listing" column="LID" entity-name="Listing"/>
  </class>
</hibernate-mapping>

